<!DOCTYPE html>
<html>
<script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
<!-- we import arjs version without NFT but with marker + location based support -->
<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
<script>
    var room = {
        name: "cafe",
        maxCap: 30,
        currentCap: 20
    }

    AFRAME.registerComponent('log', {
        schema: {
            type: 'string'
        },

        init: function() {
            var stringToLog = this.data;
            console.log(stringToLog);

            var innerHeight = room.currentCap / room.maxCap
            var outerHeight = outerBox.getAttribute('height')
            var innerPos = "0 " + String(innerHeight - (outerHeight * 2)) + " 0"
            innerBox.setAttribute('height', innerHeight)
            innerBox.setAttribute('position', innerPos)
        }
    });
</script>

<body style="margin : 0px; overflow: hidden;">
    <a-scene embedded arjs log="Hello, Scene">
        <a-marker preset="hiro">
            <!--BackGround-->
            <a-plane color="grey" height="5" width="5" rotation="-90 0 0">
                <!--Box Objects-->
                <a-box id="outerBox" log="Hello, Box" color="black" depth=".25" height="1" width="0.24" position="0 0 .25" wireframe="true" wireframe-linewidth="4">
                    <a-box id="innerBox" color="red" depth=".20" height=".1" width="0.20" position="0 -.25 0"></a-box>
                    <a-entity text="value: Hello World; color: black;" position="-.25 0 0" scale="2 2 1">
                    </a-entity>

                </a-box>
            </a-plane>
        </a-marker>
        <a-entity camera></a-entity>
    </a-scene>
</body>

</html>